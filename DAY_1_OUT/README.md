# Day 1: Verilog RTL Design & Synthesis Workshop  

Welcome to **Day 1** of the RTL Workshop!  
Today marks the beginning of your digital design journey, where you’ll explore **Verilog coding, open-source simulation using Icarus Verilog (iverilog), and the basics of synthesis with Yosys**.  
This guide provides hands-on labs, key concepts, and helpful explanations to strengthen your RTL fundamentals.  

---

## 📑 Table of Contents
1. Understanding Simulator, Design, and Testbench  
2. Getting Started with Icarus Verilog  
3. Lab: Simulating a 2-to-1 Multiplexer  
4. Verilog Code Walkthrough  
5. Introduction to Yosys & Technology Libraries  
6. RTL Synthesis Lab with Yosys  
7. Summary  

---

## 1. Understanding Simulator, Design, and Testbench  

- **Simulator**: A tool to test your circuit logic before hardware implementation by applying inputs and observing outputs.  
- **Design**: The Verilog module describing functionality.  
- **Testbench**: A separate file that stimulates the design with test inputs and checks the response.  

---

## 2. Getting Started with Icarus Verilog  

The **simulation flow** works as follows:  
- Provide both the design and the testbench to `iverilog`.  
- It generates a simulation executable.  
- Running the executable produces a `.vcd` file that you can inspect with GTKWave.  

---

## 3. Lab: Simulating a 2-to-1 Multiplexer  

### Step 1: Clone the Repository  
```bash
git clone https://github.com/kunalg123/sky130RTLDesignAndSynthesisWorkshop.git
cd sky130RTLDesignAndSynthesisWorkshop/verilog_files
````

### Step 2: Install Required Tools

```bash
sudo apt install iverilog
sudo apt install gtkwave
```

### Step 3: Run the Simulation

```bash
iverilog good_mux.v tb_good_mux.v
./a.out
gtkwave tb_good_mux.vcd
```

### Step 4: View Simulation Results

Once GTKWave opens, you should see the output waveform.

![2-to-1 MUX Waveform](images/mux_waveform.png)

👉 Save your GTKWave output as `mux_waveform.png` in the `images/` folder.

---

## 4. Verilog Code Walkthrough

Here’s the 2:1 multiplexer code (`good_mux.v`):

```verilog
module good_mux (input i0, input i1, input sel, output reg y);
always @ (*)
begin
    if(sel)
        y <= i1;
    else 
        y <= i0;
end
endmodule
```

* Inputs: `i0`, `i1` (data), `sel` (control line)
* Output: `y` (selected input)
* Function: If `sel=1`, output is `i1`; otherwise, `i0`.

---

## 5. Introduction to Yosys & Technology Libraries

**Yosys** is an open-source synthesis framework.
It translates Verilog RTL into a **gate-level netlist**.

Key features include:

* Logic synthesis
* Optimization for area/power/speed
* Technology mapping using `.lib` files
* Extensible for custom flows

### Why multiple versions of the same gate exist in libraries?

* **Speed**: Faster gates for performance-critical paths
* **Power**: Low-power gates for efficiency
* **Area**: Smaller gates for compact layouts
* **Drive Strength**: Different strengths for different loads

---

## 6. RTL Synthesis Lab with Yosys

### Step 1: Launch Yosys

```bash
yosys
```

### Step 2: Read the Liberty Library

```tcl
read_liberty -lib /path/to/sky130_fd_sc_hd__tt_025C_1v80.lib
```

### Step 3: Load the Verilog Design

```tcl
read_verilog /home/vsduser/VLSI/sky130RTLDesignAndSynthesisWorkshop/verilog_files/good_mux.v
```

### Step 4: Run Synthesis

```tcl
synth -top good_mux
```

### Step 5: Technology Mapping

```tcl
abc -liberty /path/to/sky130_fd_sc_hd__tt_025C_1v80.lib
```

## Step 6: GATE LEVEL WAVEFORM  

- You now understand the role of **simulator, design, and testbench** in RTL design.  
- Successfully simulated the **2:1 multiplexer** using `iverilog` and viewed the output in GTKWave.  
- Below is the captured GTKWave output:  

## MUX Waveform Output
![Image](https://github.com/user-attachments/assets/53d15507-f23a-468b-beff-72e38e1f27d1)

- Analyzed the Verilog code of the mux and verified its correctness.  
- Explored **Yosys synthesis flow**, including reading libraries, synthesis, and technology mapping.  
- Visualized the **gate-level schematic** generated by Yosys:  

## MUX Gate-level Schematic
![Image](https://github.com/user-attachments/assets/b34f7e24-9b9b-4af8-9b08-1fe002e46ea2)

- Learned why standard cell libraries contain multiple versions (flavors) of gates.  
```

## 7. Summary

* Understood the purpose of simulators, designs, and testbenches.
* Performed simulation of a Verilog mux using **iverilog** and analyzed the output waveform in GTKWave.
* Explored and explained the 2:1 multiplexer Verilog code.
* Learned about Yosys, gate libraries, and why cells come in different “flavors.”
* Ran synthesis flow in Yosys and visualized the resulting schematic.

```

Do you also want me to give you **commands to export the waveform and schematic automatically** (so you don’t have to manually screenshot GTKWave or Yosys each time)?
```
